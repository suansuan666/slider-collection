<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{
        margin:0;
        padding:0;
    }
    li{
        list-style: none;
        height:100px;
        width:100px;
        background-color: orange;
        text-align: center;
        display: inline-block;
        vertical-align: middle;
    }
    .box{
        width:70%;
        overflow: hidden;
    }
    .slider{
        white-space: nowrap;/*文本不换行 使li全排在一行里*/
        overflow-y: hidden;
        overflow-x: hidden;
    }
    </style>
</head>
<body>
    <div class="box">
        <ul class="slider">
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>8</li>
            <li>9</li>
            <li>10</li>
        </ul>
    </div>
    <button id="pre">上一张</button>
    <button id="next">下一张</button>
    <script src="jquery-3.3.1.min.js"></script>
    <script>
    var scroll=$(".slider")[0];
    var timer=null;

    function run(dir){
        var sDir=dir =="left" ? scroll.scrollLeft +300 :scrollLeft -300;
        $(".slider").animate({
            scrollLeft:sDir
        },500,function(){        /*500是动画移动速度值*/
            showArrow();
        })
        console.log("qq"); 
    }
    function showArrow(){
        $("#pre").add("#next").show();
        if(scroll.scrollLeft <=0){
            $("#pre").hide();
        }
        else if(scroll.scrollLeft >=scroll.scrollWidth-scroll.clientWidth){   /*scrollWidth是实际内容分的宽度，clientWidth是内容可视区宽度*/
            $("#next").hide();
        }  
        console.log("bb");
        
    }
    $(".slider").on("scroll",function(){
        if($(this).data("timer")){
            clearTimeout($(this).data("timer"));
        }
        $(this).data("timer",setTimeout(function(){showArrow()},1000));
        console.log("cc");
        
    })

    </script>
</body>
</html>                                                                                                         